<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" 
    th:replace="~{fragments/layout :: layout (~{::body},'dashboard')}">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Index</title>
    <link rel="stylesheet" href="~/css/templatemo-style.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
</head>
<body>
  <div class="container" id="app">
    <div class="card">
      <div class="card-header">
        <h3 class="text-center">Reporte de Deudas de Personas</h3>
      </div>
      <div class="card-body">
        <form @submit.prevent="ocultarDashboard">
          <input 
            class="form-control form-control-lg" 
            type="number"
            placeholder="Buscar por N# DNI" 
            aria-label=".form-control-lg example"
            v-model.trim="dni"
          >
          <br>
          <button class="btn btn-primary form-control" type="submit" @click="Apiequifax">Buscar</button>
        </form>
      </div>

    </div>
    <div class="container" v-if="ocultar" id="hide">
     <h1 class="text-center">REPORTE CREDITICIO</h1>
     <div class="card">
       <div class="card-body">
         <h5 class="card-title">SCORE CREDITICIO</h5>
         <div id="chartdiv"></div>
       </div>
     </div>
     <hr>
     <h1 class="text-center">DATOS PERSONALES</h1>
     <hr>
     <div class="container">
       <div class="row">
         <div class="col-sm">
           <h4>{{exifax.nombres}} {{exifax.apellidos}}</h4>
         </div>
         <div class="col-sm">
           <h4>DNI: {{exifax.dni}}</h4>
         </div>
       </div>
         <div class="row">
             <div class="col-sm">
               <div class="card">
                 <h4>Fecha de Nacimiento</h4>
                 <a>19/07/2010</a>
                 <h4>Nacionalidad</h4>
                 <a>Per√∫</a>
                 <h4>Telefono</h4>
                 <a>19072010</a>
               </div>
             </div>
             <div class="col-sm">
               <div class="card">
                 <h4>Estado Civil</h4>
                 <a>Soltero(a)</a>
                 <h4>Grado de Instruccion</h4>
                 <a>Universitario</a>
                 <h4>Ocupacion</h4>
                 <a>Estudiante</a>
               </div>
             </div>
         </div>
        <hr>
          <h1 class="text-left">VISTA DEL ULTIMO PERIODO</h1>
        <hr>
        <div class="card">
          <table class="table table-bordered" id="tabla">
            <thead>
              <tr>
                <th scope="col" class="table-success">Normal</th>
                <th scope="col" class="table-primary">Con Problemas Potenciales</th>
                <th scope="col" class="table-warning">Deficiente</th>
                <th scope="col" class="table-info">Dudoso</th>
                <th scope="col" class="table-danger">Perdida</th>
                <th scope="col" class="table-secondary">Sin Calificacion</th>
              </tr>
            </thead>
          </table>
        </div>
        <table class="table table-bordered">
          <thead class="table-primary">
            <tr>
              <th scope="col">Entidad</th>
              <th scope="col">Sistema Financiero</th>
              <th scope="col">Tipo de Producto</th>
              <th scope="col">Calificacion</th>
              <th scope="col">Monto (S/.)</th>
              <th scope="col">Dias de atraso</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(item, i) in exifax.datosConsultas" :key="i">
              <td>
                <span>{{exifax.datosConsultas[i].entidad}}</span>
              </td>
              <td>SR</td>
              <td>TarjCreDisEfe</td>
              <td class="table-success">NOR</td>
              <td>
                <span>{{exifax.datosConsultas[i].deuda}}</span>
              </td>
              <td>
                <span>{{exifax.datosConsultas[i].diasVencidas}}</span>
              </td>
            </tr>
            <tr class="table-secondary">
              <th scope="row">TOTAL</th>
              <td colspan="3"></td>
              <td></td>
              <td></td>
            </tr>
          </tbody>
        </table>
     </div>
   </div>
 </div>
 <div class="container">
 <style type="text/css">
   body {
     font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
       }
       #chartdiv {
         width: 100%;
         height: 500px;
       }
 </style>
 
 
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
    <script th:src="@{/js/dash.js}"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script th:src="@{/js/main.js}"></script>
    <script th:src="@{/js/dash1.js}"></script>
    <script th:src="@{/js/dash2.js}"></script>
    <script>
      const mountedApp = app.mount('#app')
    </script> 

    </body>
</html>